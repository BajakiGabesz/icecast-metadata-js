(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{12:function(e,t,a){e.exports={spectrum:"Player_spectrum__1ThfC",player:"Player_player__1vYfQ",metadata:"Player_metadata__3j7ae",button:"Player_button__297uW",link:"Player_link__2k87w",visitStation:"Player_visitStation__2xKeH"}},13:function(e,t,a){e.exports={station:"StationSelector_station__3a44c",stationRadio:"StationSelector_stationRadio__1FTGQ",stationLabel:"StationSelector_stationLabel__1DbUR",stationName:"StationSelector_stationName__1hB_K",stationDescription:"StationSelector_stationDescription__36TBn",codecInfo:"StationSelector_codecInfo__JZjFy"}},18:function(e,t,a){e.exports={about:"About_about__2v-0B",link:"About_link__1z8T1",subLink:"About_subLink__n5KCY",description:"About_description__3WN3o",disclaimer:"About_disclaimer__2gOk6"}},21:function(e,t,a){var n=a(26),r=a(3),i=a(27),s=a(10),c=a(11),o=a(28),u=a(29),l=a(37),d=a(64),h=a(30),m=a(38),f=a(47),p=a(85),g=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.metadataTypes,n=void 0===a?["icy"]:a,r=i(t,["metadataTypes"]);s(this,e);var c=n.includes("icy"),o=n.includes("ogg");this._metadataParser=c&&o?new p(r):o?new f(r):c?new m(r):new h(r)}return c(e,[{key:"iterator",value:r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._metadataParser.iterator(t),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"readAll",value:function(e){this._metadataParser.readAll(e)}},{key:"asyncIterator",value:function(e){var t=this;return o(r.mark((function a(){return r.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.delegateYield(d(l(t._metadataParser.asyncIterator(e)),u),"t0",1);case 1:return a.abrupt("return",a.t0);case 2:case"end":return a.stop()}}),a)})))()}},{key:"asyncReadAll",value:function(){var e=n(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._metadataParser.asyncReadAll(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"parseIcyMetadata",value:function(e){return m.parseIcyMetadata(e)}}]),e}();e.exports=g},30:function(e,t,a){(function(t){var n=a(26),r=a(3),i=a(10),s=a(11),c=a(29),o=a(28),u=a(70).TextDecoder||TextDecoder,l=a(74),d=function(){},h=t?function(e){return t.allocUnsafe(e)}:function(e){return new Uint8Array(e)},m=function(){"use strict";function e(t){var a=t.onStream,n=void 0===a?d:a,r=t.onMetadata,s=void 0===r?d:r;i(this,e),this._remainingData=0,this._currentPosition=0,this._buffer=new Uint8Array(0),this._stats=new l,this._decoder=new u("utf-8"),this._onStream=n,this._onMetadata=s,this._onStreamPromise=Promise.resolve(),this._onMetadataPromise=Promise.resolve(),this._generator=this._passThroughParser(),this._generator.next()}return s(e,[{key:"_passThroughParser",value:r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._remainingData=1/0;case 1:return e.t0=this,e.delegateYield(this._getNextValue(),"t1",4);case 4:return e.t2=e.t1,e.delegateYield(e.t0._sendStream.call(e.t0,e.t2),"t3",6);case 6:e.next=1;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"iterator",value:r.mark((function e(t){var a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this._generator.next(t);case 1:if(!a.value){e.next=7;break}return e.next=4,a.value;case 4:a=this._generator.next(),e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"readAll",value:function(e){for(var t=this._generator.next(e);t.value;t=this._generator.next());}},{key:"asyncIterator",value:function(e){var t=this;return o(r.mark((function a(){var n;return r.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=t._generator.next(e);case 1:if(!n.value){a.next=11;break}return a.next=4,c(t._onStreamPromise);case 4:return a.next=6,c(t._onMetadataPromise);case 6:return a.next=8,n.value;case 8:n=t._generator.next(),a.next=1;break;case 11:case"end":return a.stop()}}),a)})))()}},{key:"asyncReadAll",value:function(){var e=n(r.mark((function e(t){var a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this._generator.next(t);case 1:if(!a.value){e.next=9;break}return e.next=4,this._onStreamPromise;case 4:return e.next=6,this._onMetadataPromise;case 6:a=this._generator.next(),e.next=1;break;case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_sendStream",value:r.mark((function e(t){var a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._stats.addStreamBytes(t.length),a={stream:t,stats:this._stats.stats},this._onStreamPromise=this._onStream(a),e.next=5,a;case 5:case"end":return e.stop()}}),e,this)}))},{key:"_sendMetadata",value:r.mark((function e(t){var a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={metadata:t,stats:this._stats.stats},this._onMetadataPromise=this._onMetadata(a),e.next=4,a;case 4:case"end":return e.stop()}}),e,this)}))},{key:"_getNextValue",value:r.mark((function t(){var a,n,i=arguments;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=i.length>0&&void 0!==i[0]?i[0]:0,this._currentPosition!==this._buffer.length){t.next=5;break}return t.delegateYield(this._readData(),"t0",3);case 3:this._buffer=t.t0,this._currentPosition=0;case 5:if(!(this._buffer.length-this._currentPosition<a)){t.next=13;break}return t.t1=e,t.t2=this._buffer,t.delegateYield(this._readData(),"t3",9);case 9:t.t4=t.t3,this._buffer=t.t1._concatBuffers.call(t.t1,t.t2,t.t4),t.next=5;break;case 13:return n=this._buffer.subarray(this._currentPosition,(a||this._remainingData)+this._currentPosition),this._stats.addBytes(n.length),this._remainingData-=n.length,this._currentPosition+=n.length,t.abrupt("return",n);case 18:case"end":return t.stop()}}),t,this)}))},{key:"_readData",value:r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent;case 3:if(!t||0===t.length){e.next=0;break}case 4:return this._stats.addCurrentBytesRemaining(t.length),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)}))}],[{key:"_concatBuffers",value:function(e,t){var a=h(e.length+t.length);return a.set(e),a.set(t,e.length),a}}]),e}();e.exports=m}).call(this,a(65).Buffer)},33:function(e,t,a){e.exports={header:"App_header__3ZZ1n",footer:"App_footer__29Fsv"}},35:function(e,t,a){var n=a(10),r=a(11),i=function(){"use strict";function e(t){var a=t.icyBr,r=t.onMetadataUpdate,i=void 0===r?function(){}:r;n(this,e),this._icyBr=a,this._onMetadataUpdate=i,this._metadataQueue=[]}return r(e,[{key:"addMetadata",value:function(e,t){var a=e.metadata,n=e.stats,r=t+this.getTimeByBytes(n.currentStreamPosition);this._enqueueMetadata(a,r)}},{key:"getTimeByBytes",value:function(e){return this._icyBr?e/(125*this._icyBr):0}},{key:"purgeMetadataQueue",value:function(){this._metadataQueue.forEach((function(e){return clearTimeout(e._timeoutId)})),this._metadataQueue=[]}},{key:"_enqueueMetadata",value:function(e,t){var a=this;this._metadataQueue.push({_timeoutId:setTimeout((function(){a._dequeueMetadata()}),1e3*t),metadata:e})}},{key:"_dequeueMetadata",value:function(){var e=this._metadataQueue.shift().metadata;this._onMetadataUpdate(e)}},{key:"metadataQueue",get:function(){return this._metadataQueue.map((function(e){return{metadata:e.metadata,time:e.time}}))}}]),e}();e.exports=i},38:function(e,t,a){var n=a(75),r=a(42),i=a(3),s=a(27),c=a(10),o=a(11),u=a(45),l=a(14),d=a(32),h=a(46),m=a(30),f=function(e){"use strict";d(a,e);var t=h(a);function a(e){var n,r=e.icyMetaInt,i=e.icyDetectionTimeout,o=void 0===i?2e3:i,u=s(e,["icyMetaInt","icyDetectionTimeout"]);return c(this,a),(n=t.call(this,u))._icyMetaInt=r,n._icyDetectionTimeout=o,n._generator=n._icyParser(),n._generator.next(),n}return o(a,[{key:"_icyParser",value:i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._hasIcyMetadata(),"t0",1);case 1:if(!e.t0){e.next=8;break}case 2:return this._remainingData=this._icyMetaInt,e.delegateYield(this._getStream(),"t1",4);case 4:return e.delegateYield(this._getMetadataLength(),"t2",5);case 5:if(!this._remainingData){e.next=7;break}return e.delegateYield(this._getMetadata(),"t3",7);case 7:e.next=2;break;case 8:return this._remainingData=1/0,e.delegateYield(this._getStream(),"t4",10);case 10:case"end":return e.stop()}}),e,this)}))},{key:"_hasIcyMetadata",value:i.mark((function e(){var t,a,n,r;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._icyMetaInt>0)){e.next=2;break}return e.abrupt("return",!0);case 2:if(this._icyDetectionTimeout){e.next=4;break}return e.abrupt("return",!1);case 4:console.warn("icecast-metadata-js","\n  Passed in Icy-MetaInt is invalid. Attempting to detect ICY Metadata.","\n  See https://github.com/eshaz/icecast-metadata-js for information on how to properly request ICY Metadata."),t=[null,83,116,114,101,97,109,84,105,116,108,101,61],a=Date.now(),n=0;case 8:if(!(a+this._icyDetectionTimeout>Date.now())){e.next=30;break}return e.t0=m,e.t1=this._buffer,e.delegateYield(this._readData(),"t2",12);case 12:e.t3=e.t2,this._buffer=e.t0._concatBuffers.call(e.t0,e.t1,e.t3);case 14:if(!(n<this._buffer.length-t.length)){e.next=28;break}r=1;case 16:if(!(r<t.length)){e.next=23;break}if(this._buffer[r+n]===t[r]){e.next=20;break}return n++,e.abrupt("continue",14);case 20:r++,e.next=16;break;case 23:return console.warn("icecast-metadata-js","\n  Found ICY Metadata! Setting Icy-MetaInt to ".concat(n,".")),this._icyMetaInt=n,e.abrupt("return",!0);case 28:e.next=8;break;case 30:return console.warn("icecast-metadata-js","\n  ICY Metadata not detected after searching ".concat(this._buffer.length," bytes for ").concat((Date.now()-a)/1e3," seconds."),"\n  Assuming stream does not contain ICY metadata. Audio errors will occur if there is ICY metadata."),e.abrupt("return",!1);case 32:case"end":return e.stop()}}),e,this)}))},{key:"_getStream",value:i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._stats.currentStreamBytesRemaining=this._remainingData;case 1:if(!this._remainingData){e.next=8;break}return e.t0=this,e.delegateYield(u(l(a.prototype),"_getNextValue",this).call(this),"t1",4);case 4:return e.t2=e.t1,e.delegateYield(e.t0._sendStream.call(e.t0,e.t2),"t3",6);case 6:e.next=1;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"_getMetadataLength",value:i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._remainingData=1;case 1:return e.delegateYield(this._getNextValue(),"t0",2);case 2:e.t1=e.t0[0],this._remainingData=16*e.t1;case 4:if(1===this._remainingData){e.next=1;break}case 5:this._stats.addMetadataLengthBytes(1);case 6:case"end":return e.stop()}}),e,this)}))},{key:"_getMetadata",value:i.mark((function e(){var t;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._stats.currentMetadataBytesRemaining=this._remainingData,e.delegateYield(this._getNextValue(this._remainingData),"t0",2);case 2:return t=e.t0,this._stats.addMetadataBytes(t.length),e.delegateYield(this._sendMetadata(a.parseIcyMetadata(this._decoder.decode(t))),"t1",5);case 5:case"end":return e.stop()}}),e,this)}))}],[{key:"parseIcyMetadata",value:function(e){var t,a={},i=r(e.matchAll(n(/((?:(?!\0)[\s\S])+?)='((?:(?!\0)[\s\S])*?)(;$|';|'$|$)/g,{key:1,val:2})));try{for(i.s();!(t=i.n()).done;){var s=t.value;a[s.groups.key]=s.groups.val}}catch(c){i.e(c)}finally{i.f()}return a}}]),a}(m);e.exports=f},47:function(e,t,a){var n=a(81),r=a(3),i=a(10),s=a(11),c=a(45),o=a(14),u=a(32),l=a(46),d=function(e){"use strict";u(a,e);var t=l(a);function a(e){var n;return i(this,a),(n=t.call(this,e))._generator=n._oggParser(),n._generator.next(),n}return s(a,[{key:"_oggParser",value:r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._hasOggPage(),"t0",1);case 1:if(!e.t0){e.next=11;break}return e.delegateYield(this._identifyCodec(),"t1",3);case 3:if(!(t=e.t1)){e.next=11;break}case 5:return e.delegateYield(this._hasOggPage(),"t2",6);case 6:if(!e.t2){e.next=11;break}return e.delegateYield(this._getMetadata(t),"t3",8);case 8:return e.delegateYield(this._getStream(),"t4",9);case 9:e.next=5;break;case 11:return this._remainingData=1/0,e.delegateYield(this._getStream(),"t5",13);case 13:case"end":return e.stop()}}),e,this)}))},{key:"_getUint32",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new DataView(Uint8Array.from(n(e.subarray(t,t+4))).buffer).getUint32(0,!0)}},{key:"_matchBytes",value:function(e,t){return String.fromCharCode.apply(String,n(t)).match(e)}},{key:"_hasOggPage",value:r.mark((function e(){var t,a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._getNextValue(27),"t0",1);case 1:if(t=e.t0,!this._matchBytes(/OggS/,t.subarray(0,4))||248&t[5]){e.next=9;break}return e.delegateYield(this._getNextValue(t[26]),"t1",4);case 4:return a=e.t1,this._remainingData=a.reduce((function(e,t){return e+t}),0),e.abrupt("return",!0);case 9:return console.warn("icecast-metadata-js","\n  This stream is not an OGG stream. No OGG metadata will be returned.","\n  See https://github.com/eshaz/icecast-metadata-js for information on OGG metadata."),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)}))},{key:"_identifyCodec",value:r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._getNextValue(8),"t0",1);case 1:return t=e.t0,e.delegateYield(this._getStream(),"t1",3);case 3:if(!this._matchBytes(/\x7fFLAC/,t.subarray(0,5))){e.next=7;break}return e.abrupt("return",{regex:/^[\x84|\x04]/,length:4});case 7:if(!this._matchBytes(/OpusHead/,t.subarray(0,8))){e.next=11;break}return e.abrupt("return",{regex:/OpusTags/,length:8});case 11:if(!this._matchBytes(/\x01vorbis/,t.subarray(0,7))){e.next=13;break}return e.abrupt("return",{regex:/\x03vorbis/,length:7});case 13:case"end":return e.stop()}}),e,this)}))},{key:"_getMetadata",value:r.mark((function e(t){var a,n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.regex,n=t.length,e.t0=this,e.t1=a,e.delegateYield(this._getNextValue(n),"t2",4);case 4:if(e.t3=e.t2,!e.t0._matchBytes.call(e.t0,e.t1,e.t3)){e.next=10;break}return e.t4=this,e.delegateYield(this._readVorbisComment(),"t5",8);case 8:return e.t6=e.t5,e.delegateYield(e.t4._sendMetadata.call(e.t4,e.t6),"t7",10);case 10:case"end":return e.stop()}}),e,this)}))},{key:"_getStream",value:r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._remainingData){e.next=4;break}return e.delegateYield(this._getNextValue(),"t0",2);case 2:e.next=0;break;case 4:case"end":return e.stop()}}),e,this)}))},{key:"_getNextValue",value:r.mark((function e(t){var n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(c(o(a.prototype),"_getNextValue",this).call(this,t),"t0",1);case 1:return n=e.t0,e.delegateYield(this._sendStream(n),"t1",3);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))},{key:"_readData",value:r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(c(o(a.prototype),"_readData",this).call(this),"t0",1);case 1:return t=e.t0,this._stats.currentStreamBytesRemaining=t.length,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))},{key:"_readVorbisComment",value:r.mark((function e(){var t,a,i,s,c,o,u=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.delegateYield(this._getNextValue(4),"t1",2);case 2:return e.t2=e.t1,t=e.t0._getUint32.call(e.t0,e.t2),this._stats.addMetadataBytes(4),e.t3=this._decoder,e.delegateYield(this._getNextValue(t),"t4",7);case 7:return e.t5=e.t4,a=e.t3.decode.call(e.t3,e.t5),this._stats.addMetadataBytes(t),e.t6=this,e.delegateYield(this._getNextValue(4),"t7",12);case 12:e.t8=e.t7,i=e.t6._getUint32.call(e.t6,e.t8),this._stats.addMetadataBytes(4),s=[],c=0;case 17:if(!(c<i)){e.next=29;break}return e.delegateYield(this._getNextValue(4),"t9",19);case 19:return o=e.t9,this._stats.addMetadataBytes(4),e.t10=s,e.delegateYield(this._getNextValue(this._getUint32(o)),"t11",23);case 23:e.t12=e.t11,e.t10.push.call(e.t10,e.t12),this._stats.addMetadataBytes(s[s.length-1].length);case 26:c++,e.next=17;break;case 29:return this._stats.currentMetadataBytesRemaining=0,e.abrupt("return",s.reduce((function(e,t){var a=t.indexOf(61),r=String.fromCharCode.apply(String,n(t.subarray(0,a))).toUpperCase(),i=u._decoder.decode(t.subarray(a+1));return e[r]=e[r]?"".concat(e[r],"; ").concat(i):i,e}),{VENDOR_STRING:a}));case 31:case"end":return e.stop()}}),e,this)}))}]),a}(a(30));e.exports=d},50:function(e){e.exports=JSON.parse('[{"name":"DSMRad.io ISICS All","description":"Des Moines IA, Police Scanner","link":"https://dsmrad.io","endpoint":"https://dsmrad.io/stream/isics-all","codec":"MP3","metadataTypes":["icy"]},{"name":"DSMRad.io SARA All","description":"Des Moines IA, Police Scanner","link":"https://dsmrad.io","endpoint":"https://dsmrad.io/stream/sara-all","codec":"MP3","metadataTypes":["icy"]},{"name":"Radio Cumbernauld","description":"Broadcasting local news and music from Cumbernauld Scotland","link":"https://www.radiocumbernauld.uk/","endpoint":"https://audio-edge-p6jke.yyz.d.radiomast.io/ebca0c3d-4178-4386-88a1-4db6b7d9e291","codec":"AAC","metadataTypes":["icy"]},{"name":"1RadioLounge","description":"24/7 h. relax music...chill, ambient...","link":"http://1radiolounge.playtheradio.com/","endpoint":"https://streaming211.radionomy.com/1RadioLounge_64.aac","codec":"AAC","metadataTypes":["icy"]},{"name":"\u0420\u0430\u0434\u0438\u043e 13 (Radio 13)","description":"\u0420\u0430\u0434\u0438\u043e 13 - \u0441\u0430\u043c\u0430\u044f \u043f\u043e\u0437\u0438\u0442\u0438\u0432\u043d\u0430\u044f \u0440\u0430\u0434\u0438\u043e\u0441\u0442\u0430\u043d\u0446\u0438\u044f \u0432 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0435. \u0421\u0430\u043c\u044b\u0435 \u043b\u0443\u0447\u0448\u0438\u0435 \u0445\u0438\u0442\u044b, \u044d\u0444\u0438\u0440\u043d\u044b\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u0438 \u0437\u0432\u0435\u0437\u0434\u043d\u044b\u0435 \u0433\u043e\u0441\u0442\u0438 \u044d\u0444\u0438\u0440\u043e\u0432. (Radio 13 - the most positive radio station on the internet. The best hits, on-air programs and star guests on the air.)","link":"https://radio13.ru","endpoint":"https://play.radio13.ru/96","codec":"Opus","metadataTypes":["ogg"]},{"name":"Jazz4ever","description":"An accurate selection of Jazz, Fusion and Funky-Jazz with a sprinkle of \\"sparkly\\" Smooth Jazz.","link":"http://jazz4ever.net/","endpoint":"https://streaming211.radionomy.com/Jazz4ever","codec":"MP3","metadataTypes":["icy"]},{"name":"Radio BluesFlac","description":"Broadcasting in FLAC to give the listeners the authentic CD quality sound the artists want.","link":"https://bluesflac.com/","endpoint":"https://audio-edge-fp8o9.yyz.d.radiomast.io/radioblues-flac","codec":"FLAC","metadataTypes":["icy"]},{"name":"90.9 Jazzy r\xe1di\xf3 - Jazzy Cool","description":"The only Hungarian radio playing soul, swing, lounge and jazz beside smooth jazz hits.","link":"https://jazzy.hu/","endpoint":"https://s04.diazol.hu:9530/live.mp3","codec":"MP3","metadataTypes":["icy"]},{"name":"90.9 Jazzy r\xe1di\xf3 - Jazzy Groove","description":"The only Hungarian radio playing soul, swing, lounge and jazz beside smooth jazz hits.","link":"https://jazzy.hu/","endpoint":"https://s04.diazol.hu:9510/live.mp3","codec":"MP3","metadataTypes":["icy"]},{"name":"90.9 Jazzy r\xe1di\xf3 - Jazzy Soul","description":"The only Hungarian radio playing soul, swing, lounge and jazz beside smooth jazz hits.","link":"https://jazzy.hu/","endpoint":"https://s04.diazol.hu:9520/live.mp3","codec":"MP3","metadataTypes":["icy"]},{"name":"90.9 Jazzy R\xe1di\xf3","description":"The only Hungarian radio playing soul, swing, lounge and jazz beside smooth jazz hits.","link":"https://jazzy.hu/","endpoint":"https://s04.diazol.hu:9500/live.mp3","codec":"MP3","metadataTypes":["icy"]},{"name":"Radio Paradise Main","description":"RP is a blend of many styles and genres of music, carefully selected and mixed by two real human beings.","link":"https://radioparadise.com/","endpoint":"https://stream.radioparadise.com/flacm","codec":"FLAC","metadataTypes":["icy"]},{"name":"Radio Paradise Mellow","description":"RP is a blend of many styles and genres of music, carefully selected and mixed by two real human beings.","link":"https://radioparadise.com/","endpoint":"https://stream.radioparadise.com/mellow-flacm","codec":"FLAC","metadataTypes":["icy","ogg"]},{"name":"Radio Paradise Rock","description":"RP is a blend of many styles and genres of music, carefully selected and mixed by two real human beings.","link":"https://radioparadise.com/","endpoint":"https://stream.radioparadise.com/rock-flacm","codec":"FLAC","metadataTypes":["icy","ogg"]},{"name":"Radio Paradise World/Etc","description":"RP is a blend of many styles and genres of music, carefully selected and mixed by two real human beings.","link":"https://radioparadise.com/","endpoint":"https://stream.radioparadise.com/world-etc-320","codec":"AAC","metadataTypes":["icy"]},{"name":"OroyaWave","description":"Alternative Rock Brit Pop Chillwave Coldwave Darkwave Deathrock Dream Pop EBM Electroclash Ethereal Experimental Glam Goth Rock Indie Rock Italo-Disco Minimal New Wave No Wave Post-Punk Punk Synth-Pop Synthwave Shoegaze Techno Vaporwave","link":"http://www.oroyawave.com/","endpoint":"https://streamingv2.shoutcast.com/oroyawave","codec":"MP3","metadataTypes":["icy"]},{"name":"OroyaWave-Minimal","description":"minimal wave minimal electronic minimal synth coldwave new wave technopop synthpop electropunk electroclash synthwave retrowave outrun darksynth cyberpunk and some vaporwave musics.","link":"http://www.oroyawave.com/","endpoint":"https://streamingv2.shoutcast.com/oroyawave-minimal","codec":"MP3","metadataTypes":["icy"]},{"name":"Radioparty.pl","description":"Techno, Dance, Club, Hands Up, House, Trance. Najlepsza klubowa muzyka w sieci. The best radio with club music.","link":"https://radioparty.pl/kanalglowny.html","endpoint":"https://s2.radioparty.pl:8000/stream","codec":"MP3","metadataTypes":["icy"]},{"name":"Radioparty.pl - House","description":"Techno, Dance, Club, Hands Up, House, Trance. Najlepsza klubowa muzyka w sieci. The best radio with club music.","link":"https://radioparty.pl/kanalhouse.html","endpoint":"https://s1.radioparty.pl:8000/house","codec":"MP3","metadataTypes":["icy"]},{"name":"Radioparty.pl - Trance","description":"Techno, Dance, Club, Hands Up, House, Trance. Najlepsza klubowa muzyka w sieci. The best radio with club music.","link":"https://radioparty.pl/kanaltrance.html","endpoint":"https://s2.radioparty.pl:8015/trance","codec":"MP3","metadataTypes":["icy"]},{"name":"Radioparty.pl - Vocal Trance","description":"Techno, Dance, Club, Hands Up, House, Trance. Najlepsza klubowa muzyka w sieci. The best radio with club music.","link":"https://radioparty.pl/kanalvtrance.html","endpoint":"https://s2.radioparty.pl:8015/vocaltrance","codec":"MP3","metadataTypes":["icy"]},{"name":"Radioparty.pl - DJ Mixes","description":"Techno, Dance, Club, Hands Up, House, Trance. Najlepsza klubowa muzyka w sieci. The best radio with club music.","link":"https://radioparty.pl/kanaldjmixes.html","endpoint":"https://s1.radioparty.pl:8000/djmixes","codec":"MP3","metadataTypes":["icy"]},{"name":"Radioparty.pl - Energy 2000","description":"Techno, Dance, Club, Hands Up, House, Trance. Najlepsza klubowa muzyka w sieci. The best radio with club music.","link":"https://radioparty.pl/kanalenergy2000.html","endpoint":"https://s1.radioparty.pl:8000/energy2000","codec":"MP3","metadataTypes":["icy"]},{"name":"Radioparty.pl - Energy 2000","description":"Techno, Dance, Club, Hands Up, House, Trance. Najlepsza klubowa muzyka w sieci. The best radio with club music.","link":"https://radioparty.pl/kanalenergy2000.html","endpoint":"https://s2.radioparty.pl:8040/energy2000","codec":"AAC+","metadataTypes":["icy"]},{"name":"Dance Wave!","description":"All Dance from 2000. Global dance radio station. The hottest Dance and Club Music from across the Planet!","link":"https://dancewave.online/","endpoint":"https://dancewave.online/dance.mp3","codec":"MP3","metadataTypes":["icy"]},{"name":"Dance Wave!","description":"All Dance from 2000. Global dance radio station. The hottest Dance and Club Music from across the Planet!","link":"https://dancewave.online/","endpoint":"https://dancewave.online/dance.aac","codec":"AAC+","metadataTypes":["icy"]},{"name":"Dance Wave Retro!","description":"All Dance before 2000!","link":"https://retro.dancewave.online/","endpoint":"https://retro.dancewave.online/retrodance.mp3","codec":"MP3","metadataTypes":["icy"]},{"name":"Metro DANCE! Radio","description":"Metro Dance Radio - home station of the morning show BODRA SMYANA (Cool Shift) broadcasted live every weekday morning 7 - 11 am and rebroadcasted through all Metro Cast Stations as well as on the major local FM outlets in Bulgaria.","link":"https://dab.bg/radiochannel/metro/","endpoint":"http://eu1.reliastream.com:7017/MDR","codec":"MP3","metadataTypes":["icy"]},{"name":"Sama Radio Senegal","description":"Good Vibes from Senegal West Africa! Sama Radio Dakar Senegal cr\xe9\xe9e en Ao\xfbt 2013. Avec un groupe de jeunes ambitieux S\xe9n\xe9galais elle est aujourd hui la premi\xe8re cha\xeene ind\xe9pendante et qui r\xe9sume l ensemble du Paysage m\xe9diatique S\xe9n\xe9galais.","link":"https://www.sunufm.com/samaradio/","endpoint":"https://streamingv2.shoutcast.com/SamaRadio","codec":"MP3","metadataTypes":["icy"]},{"name":"ABC Piano","description":"Only Piano Classical Music with Bach, Mozart, Beethoven, Rachmaninov, Debussy, Chopin, ...","link":"https://www.radionomy.com/en/radio/abc-Piano","endpoint":"https://streaming211.radionomy.com/ABC-Piano","codec":"MP3","metadataTypes":["icy"]},{"name":"Atmospheres Radio","description":"Music by students, staff and friends of the Royal Welsh College of Music and Drama","link":"https://streaming.galaxywebsolutions.com/AudioPlayer/9040","endpoint":"https://streaming.galaxywebsolutions.com:9040/stream","codec":"MP3","metadataTypes":["icy"]},{"name":"HAWK Radio - Hilbert College","description":"Modern Music from Hip Hop to Rock!","link":"https://www.hilbert.edu/academics/undergraduate-programs/dmac/hawk-radio","endpoint":"https://streamingv2.shoutcast.com/HAWK-Radio-Hilbert-College?icy=http","codec":"MP3","metadataTypes":["icy"]},{"name":"AIFR Alverno Inferno Free Radio","description":"Alverno College On-Line Radio Station","link":"http://www-staging.alverno.edu/technology/mediahub/aifr.php","endpoint":"https://pavo.prostreaming.net:8022/stream","codec":"MP3","metadataTypes":["icy"]},{"name":"TheIndieBlend","description":"Music. Discovery. Unleashed. Here\'s an Indie station that mixes it up -- pulling only the best songs played by KCRW-FM Los Angeles DJ Sticky/past WVUM-FM Miami DJ Tom Jackson Radio Eins 95.8 FM Berlin","link":"http://theindieblend.playtheradio.com/","endpoint":"https://streaming307.radionomy.com/TheIndieBlend?icy=http","codec":"MP3","metadataTypes":["icy"]},{"name":"CiTR Live","description":"CiTR 101.9FM/Discorder Magazine is the campus radio station and magazine of the University of British Columbia-Vancouver, broadcasting from traditional unceded Musqueam territory and streaming online","link":"https://www.citr.ca/","endpoint":"https://stream.kanefm.com:1037/listen","codec":"MP3","metadataTypes":["icy"]},{"name":"Lo Nuestro 102.1","description":"La mejor m\xfasica t\xedpica de Panam\xe1.","link":"https://www.fmlonuestro.com/","endpoint":"https://www.streaming507.net:8136/stream","codec":"AAC","metadataTypes":["icy"]},{"name":"Andean Music","description":"Folklore Andean Acoustic Electronic Underground","endpoint":"https://streamingv2.shoutcast.com/andeanmusic?icy=http","codec":"MP3","metadataTypes":["icy"]},{"name":"Pure Rock FM 89/WONC","description":"Student-run radio from North Central College, Naperville, IL, USA","link":"https://www.wonc.org/","endpoint":"http://webcast.wonc.org:8000/wonclive-160s-opus.ogg","codec":"Opus","metadataTypes":["ogg"]},{"name":"TheRadio.CC","description":"The Radio CC - Euer Creative Commons-Webradio","link":"https://theradio.cc","endpoint":"http://stream.theradio.cc:8000/trcc-stream.opus","codec":"Opus","metadataTypes":["ogg"]}]')},57:function(e,t,a){},74:function(e,t,a){var n=a(10),r=a(11),i=function(){"use strict";function e(){n(this,e),this._totalBytesRead=0,this._streamBytesRead=0,this._metadataLengthBytesRead=0,this._metadataBytesRead=0,this._currentBytesRemaining=0,this._currentStreamBytesRemaining=0,this._currentMetadataBytesRemaining=0}return r(e,[{key:"addBytes",value:function(e){this._totalBytesRead+=e,this._currentBytesRemaining-=e}},{key:"addStreamBytes",value:function(e){this._streamBytesRead+=e,this._currentStreamBytesRemaining-=e}},{key:"addMetadataLengthBytes",value:function(e){this._metadataLengthBytesRead+=e}},{key:"addMetadataBytes",value:function(e){this._metadataBytesRead+=e,this._currentMetadataBytesRemaining-=e}},{key:"addCurrentBytesRemaining",value:function(e){this._currentBytesRemaining+=e}},{key:"stats",get:function(){return{totalBytesRead:this._totalBytesRead,streamBytesRead:this._streamBytesRead,metadataLengthBytesRead:this._metadataLengthBytesRead,metadataBytesRead:this._metadataBytesRead,currentBytesRemaining:this._currentBytesRemaining,currentStreamBytesRemaining:this._currentStreamBytesRemaining,currentMetadataBytesRemaining:this._currentMetadataBytesRemaining}}},{key:"currentStreamBytesRemaining",set:function(e){this._currentStreamBytesRemaining+=e}},{key:"currentMetadataBytesRemaining",set:function(e){this._currentMetadataBytesRemaining=e}}]),e}();e.exports=i},85:function(e,t,a){var n=a(26),r=a(3),i=a(42),s=a(27),c=a(10),o=a(11),u=a(29),l=a(28),d=a(37),h=a(38),m=a(47),f=function(){"use strict";function e(t){c(this,e);t.onStream;var a=s(t,["onStream"]);this._oggMetadataParser=new m(t),this._icyMetadataParser=new h(a)}return o(e,[{key:"iterator",value:r.mark((function e(t){var a,n,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=i(this._icyMetadataParser.iterator(t)),e.prev=1,a.s();case 3:if((n=a.n()).done){e.next=13;break}if(!(s=n.value).stream){e.next=9;break}return e.delegateYield(this._oggMetadataParser.iterator(s.stream),"t0",7);case 7:e.next=11;break;case 9:return e.next=11,s;case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(1),a.e(e.t1);case 18:return e.prev=18,a.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[1,15,18,21]])}))},{key:"readAll",value:function(e){var t,a=i(this._icyMetadataParser.iterator(e));try{for(a.s();!(t=a.n()).done;){var n=t.value;n.stream&&this._oggMetadataParser.readAll(n.stream)}}catch(r){a.e(r)}finally{a.f()}}},{key:"asyncIterator",value:function(e){var t=this;return l(r.mark((function a(){var n,i,s,c,o,l,h,m,f,p,g,y,b,v;return r.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=!0,i=!1,a.prev=2,c=d(t._icyMetadataParser.asyncIterator(e));case 4:return a.next=6,u(c.next());case 6:return o=a.sent,n=o.done,a.next=10,u(o.value);case 10:if(l=a.sent,n){a.next=55;break}if(!(h=l).stream){a.next=50;break}m=!0,f=!1,a.prev=16,g=d(t._oggMetadataParser.asyncIterator(h.stream));case 18:return a.next=20,u(g.next());case 20:return y=a.sent,m=y.done,a.next=24,u(y.value);case 24:if(b=a.sent,m){a.next=32;break}return v=b,a.next=29,v;case 29:m=!0,a.next=18;break;case 32:a.next=38;break;case 34:a.prev=34,a.t0=a.catch(16),f=!0,p=a.t0;case 38:if(a.prev=38,a.prev=39,m||null==g.return){a.next=43;break}return a.next=43,u(g.return());case 43:if(a.prev=43,!f){a.next=46;break}throw p;case 46:return a.finish(43);case 47:return a.finish(38);case 48:a.next=52;break;case 50:return a.next=52,h;case 52:n=!0,a.next=4;break;case 55:a.next=61;break;case 57:a.prev=57,a.t1=a.catch(2),i=!0,s=a.t1;case 61:if(a.prev=61,a.prev=62,n||null==c.return){a.next=66;break}return a.next=66,u(c.return());case 66:if(a.prev=66,!i){a.next=69;break}throw s;case 69:return a.finish(66);case 70:return a.finish(61);case 71:case"end":return a.stop()}}),a,null,[[2,57,61,71],[16,34,38,48],[39,,43,47],[62,,66,70]])})))()}},{key:"asyncReadAll",value:function(){var e=n(r.mark((function e(t){var a,n,i,s,c,o,u;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=!0,n=!1,e.prev=2,s=d(this._icyMetadataParser.iterator(t));case 4:return e.next=6,s.next();case 6:return c=e.sent,a=c.done,e.next=10,c.value;case 10:if(o=e.sent,a){e.next=19;break}if(!(u=o).stream){e.next=16;break}return e.next=16,this._oggMetadataParser.asyncReadAll(u.stream);case 16:a=!0,e.next=4;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(2),n=!0,i=e.t0;case 25:if(e.prev=25,e.prev=26,a||null==s.return){e.next=30;break}return e.next=30,s.return();case 30:if(e.prev=30,!n){e.next=33;break}throw i;case 33:return e.finish(30);case 34:return e.finish(25);case 35:case"end":return e.stop()}}),e,this,[[2,21,25,35],[26,,30,34]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();e.exports=f},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(48),s=a.n(i),c=(a(57),a(9)),o=a(49),u=a.n(o),l=a(3),d=a.n(l),h=a(7),m=a(1),f=a(2),p=a(20),g=a(35),y=a.n(g),b=a(21),v=a.n(b),_=a(22),k=a(17),w=a(52),x=a(5),S=a(6),M=a(51),O=function(){},j=function(e){Object(x.a)(a,e);var t=Object(S.a)(a);function a(e,n){var r=n.icyMetaInt,i=n.onStream,s=void 0===i?O:i,c=Object(w.a)(n,["icyMetaInt","onStream"]);Object(m.a)(this,a);var o=a.asyncIterator(e.body);return t.call(this,{start:function(t){return Object(h.a)(d.a.mark((function a(){var n,i,u,l,m,f,g,y;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=new v.a(Object(k.a)(Object(k.a)({},c),{},{icyMetaInt:parseInt(e.headers.get("Icy-MetaInt"))||r,onStream:function(){var e=Object(h.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.enqueue(a.stream),e.abrupt("return",s(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),i=!0,u=!1,a.prev=3,m=Object(p.a)(o);case 5:return a.next=7,m.next();case 7:return f=a.sent,i=f.done,a.next=11,f.value;case 11:if(g=a.sent,i){a.next=19;break}return y=g,a.next=16,n.asyncReadAll(y);case 16:i=!0,a.next=5;break;case 19:a.next=25;break;case 21:a.prev=21,a.t0=a.catch(3),u=!0,l=a.t0;case 25:if(a.prev=25,a.prev=26,i||null==m.return){a.next=30;break}return a.next=30,m.return();case 30:if(a.prev=30,!u){a.next=33;break}throw l;case 33:return a.finish(30);case 34:return a.finish(25);case 35:t.close();case 36:case"end":return a.stop()}}),a,null,[[3,21,25,35],[26,,30,34]])})))()}})}return Object(f.a)(a,[{key:"startReading",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,r,i,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,e.prev=2,i=Object(p.a)(a.asyncIterator(this));case 4:return e.next=6,i.next();case 6:return s=e.sent,t=s.done,e.next=10,s.value;case 10:if(c=e.sent,t){e.next=16;break}c;case 13:t=!0,e.next=4;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),n=!0,r=e.t0;case 22:if(e.prev=22,e.prev=23,t||null==i.return){e.next=27;break}return e.next=27,i.return();case 27:if(e.prev=27,!n){e.next=30;break}throw r;case 30:return e.finish(27);case 31:return e.finish(22);case 32:case"end":return e.stop()}}),e,this,[[2,18,22,32],[23,,27,31]])})));return function(){return e.apply(this,arguments)}}()}],[{key:"asyncIterator",value:function(e){var t=e.getReader();return Object(_.a)({},Symbol.asyncIterator,(function(){return{next:function(){return t.read()}}}))}}]),a}(Object(M.a)(ReadableStream)),B=function(){function e(){Object(m.a)(this,e)}return Object(f.a)(e,[{key:"syncFrame",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=new this.CodecFrame(e.subarray(t));!a.header&&t+this._maxHeaderLength<e.length;)t+=a.length||1,a=new this.CodecFrame(e.subarray(t));return{frame:a,remainingData:t}}},{key:"fixedLengthFrame",value:function(e){for(var t=this.syncFrame(e),a=t.frame,n=t.remainingData,r=[];a.header&&a.length+n+this._maxHeaderLength<e.length;){var i=new this.CodecFrame(e.subarray(a.length+n));if(i.header)r.push(a),n+=a.length,a=i;else{n++;var s=this.syncFrame(e,n);n+=s.remainingData,a=s.frame}}return{frames:r,remainingData:n}}}]),e}(),T=a(4),C=function(){function e(t,a,n){Object(m.a)(this,e),this._header=t,this._data=a||[],this._length=n||0}return Object(f.a)(e,[{key:"length",get:function(){return this._length}},{key:"header",get:function(){return this._header}},{key:"data",get:function(){return this._data}}]),e}(),R=function(){function e(t){Object(m.a)(this,e),this._channelMode=t.channelMode,this._channels=t.channels,this._dataByteLength=t.dataByteLength,this._length=t.length,this._sampleRate=t.sampleRate,this._sampleLength=t.sampleLength}return Object(f.a)(e,[{key:"channels",get:function(){return this._channels}},{key:"dataByteLength",get:function(){return this._dataByteLength}},{key:"length",get:function(){return this._length}},{key:"sampleRate",get:function(){return this._sampleRate}},{key:"sampleLength",set:function(e){this._sampleLength=e},get:function(){return this._sampleLength}}]),e}(),P={0:["free","free","free","free","free"],16:[32,32,32,32,8],32:[64,48,40,48,16],48:[96,56,48,56,24],64:[128,64,56,64,32],80:[160,80,64,80,40],96:[192,96,80,96,48],112:[224,112,96,112,56],128:[256,128,112,128,64],144:[288,160,128,144,80],160:[320,192,160,160,96],176:[352,224,192,176,112],192:[384,256,224,192,128],208:[416,320,256,224,144],224:[448,384,320,256,160],240:["bad","bad","bad","bad","bad"]},z={0:"bands 4 to 31",16:"bands 8 to 31",32:"bands 12 to 31",48:"bands 16 to 31"},L={0:{description:"reserved"},2:{description:"Layer III",framePadding:1,modeExtensions:{0:"Intensity stereo off, MS stereo off",16:"Intensity stereo on, MS stereo off",32:"Intensity stereo off, MS stereo on",48:"Intensity stereo on, MS stereo on"},v1:{bitrateIndex:2,sampleLength:1152},v2:{bitrateIndex:4,sampleLength:576}},4:{description:"Layer II",framePadding:1,modeExtensions:z,sampleLength:1152,v1:{bitrateIndex:1},v2:{bitrateIndex:4}},6:{description:"Layer I",framePadding:4,modeExtensions:z,sampleLength:384,v1:{bitrateIndex:0},v2:{bitrateIndex:3}}},E={0:{description:"MPEG Version 2.5 (later extension of MPEG 2)",layers:"v2",sampleRates:{0:11025,4:12e3,8:8e3,12:"reserved"}},8:{description:"reserved"},16:{description:"MPEG Version 2 (ISO/IEC 13818-3)",layers:"v2",sampleRates:{0:22050,4:24e3,8:16e3,12:"reserved"}},24:{description:"MPEG Version 1 (ISO/IEC 11172-3)",layers:"v1",sampleRates:{0:44100,4:48e3,8:32e3,12:"reserved"}}},I={0:"16bit CRC",1:"none"},A={0:"none",1:"50/15 ms",2:"reserved",3:"CCIT J.17"},D={0:{channels:2,description:"Stereo"},64:{channels:2,description:"Joint stereo"},128:{channels:2,description:"Dual channel"},192:{channels:1,description:"Single channel (Mono)"}},F=function(e){Object(x.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e))._bitrate=e.bitrate,n._emphasis=e.emphasis,n._framePadding=e.framePadding,n._isCopyrighted=e.isCopyrighted,n._isOriginal=e.isOriginal,n._isPrivate=e.isPrivate,n._layer=e.layer,n._modeExtension=e.modeExtension,n._mpegVersion=e.mpegVersion,n._protection=e.protection,n}return Object(f.a)(a,null,[{key:"getHeader",value:function(e){if(e.length<4)return null;if(255!==e[0]||e[1]<224)return null;var t=24&e[1],n=6&e[1],r=1&e[1],i={length:4},s=E[t];if("reserved"===s.description)return null;if("reserved"===L[n].description)return null;var c=Object(k.a)(Object(k.a)({},L[n]),L[n][s.layers]);i.mpegVersion=s.description,i.layer=c.description,i.sampleLength=c.sampleLength,i.protection=I[r];var o=240&e[2],u=12&e[2],l=2&e[2],d=1&e[2];if(i.bitrate=P[o][c.bitrateIndex],"bad"===i.bitrate)return null;if(i.sampleRate=s.sampleRates[u],"reserved"===i.sampleRate)return null;if(i.framePadding=l>>1&&c.framePadding,i.isPrivate=!!d,i.dataByteLength=Math.floor(125*i.bitrate*i.sampleLength/i.sampleRate+i.framePadding),!i.dataByteLength)return null;var h=192&e[3],m=48&e[3],f=8&e[3],p=4&e[3],g=3&e[3];return i.channelMode=D[h].description,i.channels=D[h].channels,i.modeExtension=c.modeExtensions[m],i.isCopyrighted=!!(f>>3),i.isOriginal=!!(p>>2),i.emphasis=A[g],"reserved"===i.emphasis?null:new a(i)}}]),a}(R),N=new Map,U=function(e){Object(x.a)(a,e);var t=Object(S.a)(a);function a(e){Object(m.a)(this,a);var n=String.fromCharCode.apply(String,Object(T.a)(e.subarray(0,4))),r=N.get(n);return r||(r=F.getHeader(e))&&N.set(n,r),t.call(this,r,r&&e.subarray(0,r.dataByteLength),r&&r.dataByteLength)}return a}(C),H=function(e){Object(x.a)(a,e);var t=Object(S.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).CodecFrame=U,e._maxHeaderLength=4,e}return Object(f.a)(a,[{key:"parseFrames",value:function(e){return this.fixedLengthFrame(e)}},{key:"codec",get:function(){return"mp3"}}]),a}(B),V={0:"MPEG-4",8:"MPEG-2"},Y={0:"valid",2:"bad",4:"bad",6:"bad"},G={0:"16bit CRC",1:"none"},W={0:"AAC Main",64:"AAC LC (Low Complexity)",128:"AAC SSR (Scalable Sample Rate)",192:"AAC LTP (Long Term Prediction)"},J={0:"96000",4:"88200",8:"64000",12:"48000",16:"44100",20:"32000",24:"24000",28:"22050",32:"16000",36:"12000",40:"11025",44:"8000",48:"7350",52:"reserved",56:"reserved",60:"frequency is written explicitly"},K={0:{channels:0,description:"Defined in AOT Specific Config"},64:{channels:1,description:"front-center"},128:{channels:2,description:"front-left, front-right"},192:{channels:3,description:"front-center, front-left, front-right"},256:{channels:4,description:"front-center, front-left, front-right, back-center"},320:{channels:5,description:"front-center, front-left, front-right, back-left, back-right"},384:{channels:6,description:"front-center, front-left, front-right, back-left, back-right, LFE-channel"},448:{channels:8,description:"front-center, front-left, front-right, side-left, side-right, back-left, back-right, LFE-channel"}},q=function(e){Object(x.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e))._bits=e.bits,n._copyrightId=e.copyrightId,n._copyrightIdStart=e.copyrightIdStart,n._bufferFullness=e.bufferFullness,n._isHome=e.isHome,n._isOriginal=e.isOriginal,n._isPrivate=e.isPrivate,n._layer=e.layer,n._mpegVersion=e.mpegVersion,n._numberAACFrames=e.numberAACFrames,n._profile=e.profile,n._protection=e.protection,n}return Object(f.a)(a,null,[{key:"getHeader",value:function(e){if(e.length<7)return null;if(255!==e[0]||e[1]<240)return null;var t=8&e[1],n=6&e[1],r=1&e[1],i={};if(i.mpegVersion=V[t],i.layer=Y[n],"bad"===i.layer)return null;i.protection=G[r],i.length=r?7:9;var s=192&e[2],c=60&e[2],o=2&e[2];if(i.profile=W[s],i.sampleRate=J[c],"reserved"===i.sampleRate)return null;i.isPrivate=!!(o>>1);var u=448&new DataView(Uint8Array.from([e[2],e[3]]).buffer).getUint16();i.channelMode=K[u].description,i.channels=K[u].channels;var l=32&e[3],d=8&e[3],h=8&e[3],m=4&e[3];i.isOriginal=!!(l>>5),i.isHome=!!(d>>4),i.copyrightId=!!(h>>3),i.copyrightIdStart=!!(m>>2);var f=262112&new DataView(Uint8Array.from([0,e[3],e[4],e[5]]).buffer).getUint32();if(i.dataByteLength=f>>5,!i.dataByteLength)return null;var p=8188&new DataView(Uint8Array.from([e[5],e[6]]).buffer).getUint16();return i.bufferFullness=8188===p?"VBR":p>>2,i.numberAACFrames=3&e[6],i.sampleLength=1024,i.bits={profileBits:s,sampleRateBits:c,channelModeBits:u},new a(i)}}]),Object(f.a)(a,[{key:"audioSpecificConfig",get:function(){var e=this._bits.profileBits+64<<5|this._bits.sampleRateBits<<5|this._bits.channelModeBits>>3,t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}}]),a}(R),Q=function(e){Object(x.a)(a,e);var t=Object(S.a)(a);function a(e){Object(m.a)(this,a);var n=q.getHeader(e);return t.call(this,n,n&&e.subarray(n.length,n.dataByteLength),n&&n.dataByteLength)}return a}(C),Z=function(e){Object(x.a)(a,e);var t=Object(S.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).CodecFrame=Q,e._maxHeaderLength=9,e}return Object(f.a)(a,[{key:"parseFrames",value:function(e){return this.fixedLengthFrame(e)}},{key:"codec",get:function(){return"mp4a.40.2"}}]),a}(B),$=function(){function e(t){Object(m.a)(this,e),this._absoluteGranulePosition=t.absoluteGranulePosition,this._dataByteLength=t.dataByteLength,this._isContinuedPacket=t.isContinuedPacket,this._isFirstPage=t.isFirstPage,this._isLastPage=t.isLastPage,this._length=t.length,this._pageSegmentTable=t.pageSegmentTable,this._pageSequenceNumber=t.pageSequenceNumber,this._pageChecksum=t.pageChecksum,this._streamSerialNumber=t.streamSerialNumber}return Object(f.a)(e,null,[{key:"getHeader",value:function(t){if(t.length<28)return null;for(var a=[],n=0;n<28;n++)a.push(t[n]);var r=new DataView(Uint8Array.from(a).buffer);if(1332176723!==r.getUint32(0))return null;var i={};i.streamStructureVersion=t[4];var s=248&t[5],c=4&t[5],o=2&t[5],u=1&t[5];if(s)return null;i.isContinuedPacket=!!(c>>2),i.isFirstPage=!!(o>>1),i.isLastPage=!!u,i.absoluteGranulePosition=r.getBigInt64(6,!0),i.streamSerialNumber=r.getInt32(14,!0),i.pageSequenceNumber=r.getInt32(18,!0),i.pageChecksum=r.getInt32(22,!0);var l=t[26];if(i.length=l+27,i.length>t.length)return null;i.dataByteLength=0,i.pageSegmentTable=[];for(var d=0,h=0;h<l;h++){var m=t[h+27];i.dataByteLength+=m,d+=m,255!==m&&(i.pageSegmentTable.push(d),d=0)}return new e(i)}}]),Object(f.a)(e,[{key:"absoluteGranulePosition",get:function(){return this._absoluteGranulePosition}},{key:"dataByteLength",get:function(){return this._dataByteLength}},{key:"pageSegmentTable",get:function(){return this._pageSegmentTable}},{key:"length",get:function(){return this._length}}]),e}(),X=function(e){Object(x.a)(a,e);var t=Object(S.a)(a);function a(e){var n;Object(m.a)(this,a);var r=$.getHeader(e);if(n=t.call(this,r,r&&e.subarray(r.length,r.length+r.dataByteLength),r&&r.length+r.dataByteLength),r){var i=r.length;n._segments=r.pageSegmentTable.map((function(t){var a=e.subarray(i,i+t);return i+=t,a}))}return n}return Object(f.a)(a,[{key:"segments",get:function(){return this._segments}}]),a}(C),ee=function(e){Object(x.a)(a,e);var t=Object(S.a)(a);function a(e,n){return Object(m.a)(this,a),t.call(this,n,e,e.length)}return a}(C),te=a(24),ae=new Int32Array([0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243]),ne={0:"Fixed",1:"Variable"},re={0:"reserved",16:192,32:576,48:1152,64:2304,80:4608,96:"8-bit (blocksize-1) end of header",112:"16-bit (blocksize-1) end of header",128:256,144:512,160:1024,176:2048,192:4096,208:8192,224:16384,240:32768},ie={0:"invalid",1:88200,2:176400,3:192e3,4:8e3,5:16e3,6:22050,7:24e3,8:32e3,9:44100,10:48e3,11:96e3,12:"get 8 bit sample rate (in kHz) from end of header",13:"get 16 bit sample rate (in Hz) from end of header",14:"get 16 bit sample rate (in tens of Hz) from end of header",15:"invalid"},se={0:{channels:1,description:"mono"},16:{channels:2,description:"left, right"},32:{channels:3,description:"left, right, center"},48:{channels:4,description:"front left, front right, back left, back right"},64:{channels:5,description:"front left, front right, front center, back/surround left, back/surround right"},80:{channels:6,description:"front left, front right, front center, LFE, back/surround left, back/surround right"},96:{channels:7,description:"front left, front right, front center, LFE, back center, side left, side right"},112:{channels:8,description:"front left, front right, front center, LFE, back left, back right, side left, side right"},128:{channels:2,description:"left/side stereo: channel 0 is the left channel, channel 1 is the side(difference) channel"},144:{channels:2,description:"right/side stereo: channel 0 is the side(difference) channel, channel 1 is the right channel"},160:{channels:2,description:"mid/side stereo: channel 0 is the mid(average) channel, channel 1 is the side(difference) channel"},176:"reserved",192:"reserved",208:"reserved",224:"reserved",240:"reserved"},ce={0:"get from STREAMINFO metadata block",2:8,4:12,6:"reserved",8:16,10:20,12:24,14:"reserved"},oe=function(e){Object(x.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e))._blockingStrategy=e.blockingStrategy,n._blockSize=e.blockSize,n._crc=e.crc,n._frameNumber=e.frameNumber,n._sampleSize=e.sampleSize,n._sampleNumber=e.sampleNumber,n._sampleLength=e.blockSize,n}return Object(f.a)(a,null,[{key:"decodeUTF8Int",value:function(e){if(e[0]<128)return{value:e[0],next:1};if(255===e)return null;for(var t,a=2,n=224;(e[0]&n)!==(n<<1&255)&&a<7;)a++,n|=n>>1;if(e.length<a)return null;if(7===a)return null;var r=6*(a-1);t=e[0]&(255^n)<<r;for(var i=1;i<a;i++)t|=(63&e[i])<<r-6*i;return{value:t,next:a}}},{key:"getHeader",value:function(e){if(e.length<6)return null;if(255!==e[0]||248!==e[1]&&249!==e[1])return null;var t={length:2},n=1&e[1];t.blockingStrategy=ne[n],t.length++;var r=240&e[2],i=15&e[2];if(t.blockSize=re[r],"reserved"===t.blockSize)return null;if(t.sampleRate=ie[i],"invalid"===t.sampleRate)return null;if(t.length++,1&e[3])return null;var s=240&e[3],c=14&e[3],o=se[s];if("reserved"===o)return null;if(t.channels=o.channels,t.channelMode=o.description,t.sampleSize=ce[c],"reserved"===t.sampleSize)return null;t.length++;var u=a.decodeUTF8Int(e.subarray(4));if(!u)return null;if(n?t.sampleNumber=u.value:t.frameNumber=u.value,t.length+=u.next,"string"===typeof t.blockSize)if(96===r){if(e.length<t.length)return null;t.blockSize=e[t.length-1]-1,t.length+=1}else if(112===r){if(e.length<=t.length)return null;t.blockSize=(e[t.length-1]<<8)+e[t.length]-1,t.length+=2}if("string"===typeof t.sampleRate)if(12===i){if(e.length<t.length)return null;t.sampleRate=e[t.length-1]-1,t.length+=1}else if(13===i){if(e.length<=t.length)return null;t.sampleRate=(e[t.length-1]<<8)+e[t.length]-1,t.length+=2}else if(14===i){if(e.length<=t.length)return null;t.sampleRate=(e[t.length-1]<<8)+e[t.length]-1,t.length+=2}return e.length<t.length?null:(t.crc=e[t.length-1],t.crc!==function(e){var t,a,n=Object(te.a)(e);try{for(n.s();!(a=n.n()).done;){var r=a.value;t=255&ae[255&(t^r)]}}catch(i){n.e(i)}finally{n.f()}return t}(e.subarray(0,t.length-1))?null:new a(t))}}]),Object(f.a)(a,[{key:"blockSize",get:function(){return this._blockSize}},{key:"frameNumber",get:function(){return this._frameNumber}},{key:"sampleSize",get:function(){return this._sampleSize}}]),a}(R),ue=function(e){Object(x.a)(a,e);var t=Object(S.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).CodecFrame=ee,e}return Object(f.a)(a,[{key:"parseFrames",value:function(e){var t=this;return this._initialHeader?{frames:e.segments.filter((function(e){return 255===e[0]&&(248===e[1]||249===e[1])})).map((function(e){return new ee(e,t._initialHeader)})),remainingData:0}:(this._initialHeader=oe.getHeader(e.data),{frames:[],remainingData:0})}},{key:"codec",get:function(){return"flac"}}]),a}(B),le={0:{mode:"SILK-only",bandwidth:"NB",frameSize:10},8:{mode:"SILK-only",bandwidth:"NB",frameSize:20},16:{mode:"SILK-only",bandwidth:"NB",frameSize:40},24:{mode:"SILK-only",bandwidth:"NB",frameSize:60},32:{mode:"SILK-only",bandwidth:"MB",frameSize:10},40:{mode:"SILK-only",bandwidth:"MB",frameSize:20},48:{mode:"SILK-only",bandwidth:"MB",frameSize:40},56:{mode:"SILK-only",bandwidth:"MB",frameSize:60},64:{mode:"SILK-only",bandwidth:"WB",frameSize:10},72:{mode:"SILK-only",bandwidth:"WB",frameSize:20},80:{mode:"SILK-only",bandwidth:"WB",frameSize:40},88:{mode:"SILK-only",bandwidth:"WB",frameSize:60},96:{mode:"Hybrid",bandwidth:"SWB",frameSize:10},104:{mode:"Hybrid",bandwidth:"SWB",frameSize:20},112:{mode:"Hybrid",bandwidth:"FB",frameSize:10},120:{mode:"Hybrid",bandwidth:"FB",frameSize:20},128:{mode:"CELT-only",bandwidth:"NB",frameSize:2.5},136:{mode:"CELT-only",bandwidth:"NB",frameSize:5},144:{mode:"CELT-only",bandwidth:"NB",frameSize:10},152:{mode:"CELT-only",bandwidth:"NB",frameSize:20},160:{mode:"CELT-only",bandwidth:"WB",frameSize:2.5},168:{mode:"CELT-only",bandwidth:"WB",frameSize:5},176:{mode:"CELT-only",bandwidth:"WB",frameSize:10},184:{mode:"CELT-only",bandwidth:"WB",frameSize:20},192:{mode:"CELT-only",bandwidth:"SWB",frameSize:2.5},200:{mode:"CELT-only",bandwidth:"SWB",frameSize:5},208:{mode:"CELT-only",bandwidth:"SWB",frameSize:10},216:{mode:"CELT-only",bandwidth:"SWB",frameSize:20},224:{mode:"CELT-only",bandwidth:"FB",frameSize:2.5},232:{mode:"CELT-only",bandwidth:"FB",frameSize:5},240:{mode:"CELT-only",bandwidth:"FB",frameSize:10},248:{mode:"CELT-only",bandwidth:"FB",frameSize:20}},de=function(e){Object(x.a)(a,e);var t=Object(S.a)(a);function a(e,n){var r;Object(m.a)(this,a),r=t.call(this,n,e,e.length);var i=a.getPacket(e);return r._header.sampleLength=i.config.frameSize/1e3*r._header.sampleRate*i.frameCount,r}return Object(f.a)(a,null,[{key:"getPacket",value:function(e){var t={config:le[248&e[0]],channels:4&e[0]?2:1,code:3&e[0]};switch(t.code){case 0:return t.frameCount=1,t;case 1:case 2:return t.frameCount=2,t;case 3:return t.isVbr=Boolean(128&e[1]),t.hasOpusPadding=Boolean(64&e[1]),t.frameCount=63&e[1],t}}}]),a}(C),he={0:["monophonic (mono)","stereo (left, right)"],1:["monophonic (mono)","stereo (left, right)","linear surround (left, center, right)","quadraphonic (front left, front right, rear left, rear right)","5.0 surround (front left, front center, front right, rear left, rear right)","5.1 surround (front left, front center, front right, rear left, rear right, LFE)","6.1 surround (front left, front center, front right, side left, side right, rear center, LFE)","7.1 surround (front left, front center, front right, side left, side right, rear left, rear right, LFE)"]},me=function(e){Object(x.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e))._channelMappingFamily=e.channelMappingFamily,n._channelMappingTable=e.channelMappingTable,n._coupledStreamCount=e.coupledStreamCount,n._inputSampleRate=e.inputSampleRate,n._outputGain=e.outputGain,n._preSkip=e.preSkip,n._sampleSize=16,n._streamCount=e.streamCount,n}return Object(f.a)(a,null,[{key:"getHeader",value:function(e){if(e.length<19)return null;if(79!==e[0]||112!==e[1]||117!==e[2]||115!==e[3]||72!==e[4]||101!==e[5]||97!==e[6]||100!==e[7])return null;if(1!==e[8])return null;var t=new DataView(Uint8Array.from(Object(T.a)(e.subarray(0,19))).buffer),n={length:19};if(n.channels=e[9],n.preSkip=t.getUint16(10,!0),n.inputSampleRate=t.getUint32(12,!0),n.sampleRate=48e3,n.outputGain=t.getInt16(16,!0),n.channelMappingFamily=e[18],!n.channelMappingFamily in he)return null;if(n.channelMode=he[n.channelMappingFamily][n.channels-1],!n.channelMode)return null;if(0!==n.channelMappingFamily){if(n.length+=2+n.channels,e.length<n.length)return null;n.streamCount=e[19],n.coupledStreamCount=e[20],n.channelMappingTable=e.subarray(21,n.channels+21)}return new a(n)}}]),Object(f.a)(a,[{key:"channelMappingFamily",get:function(){return this._channelMappingFamily}},{key:"coupledStreamCount",get:function(){return this._coupledStreamCount}},{key:"preSkip",get:function(){return this._preSkip}},{key:"outputGain",get:function(){return this._outputGain}},{key:"inputSampleRate",get:function(){return this._inputSampleRate}},{key:"sampleSize",get:function(){return this._sampleSize}},{key:"streamCount",get:function(){return this._streamCount}},{key:"channelMappingTable",get:function(){return this._channelMappingTable}}]),a}(R),fe=function(e){Object(x.a)(a,e);var t=Object(S.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).CodecFrame=de,e._initialHeader=null,e._maxHeaderLength=26,e}return Object(f.a)(a,[{key:"parseFrames",value:function(e){var t=this;return this._initialHeader?{frames:e.segments.filter((function(e){return 79!==e[0]&&112!==e[1]})).map((function(e){return new de(e,t._initialHeader)})),remainingData:0}:(this._initialHeader=me.getHeader(e.data),{frames:[],remainingData:0})}},{key:"codec",get:function(){return"opus"}}]),a}(B),pe=function(e){Object(x.a)(a,e);var t=Object(S.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).CodecFrame=X,e._maxHeaderLength=283,e._codec=null,e}return Object(f.a)(a,[{key:"_matchBytes",value:function(e,t){return String.fromCharCode.apply(String,Object(T.a)(t)).match(e)}},{key:"setCodec",value:function(e){var t=e.data;if(this._matchBytes(/\x7fFLAC/,t.subarray(0,5)))this._codec="flac",this._parser=new ue;else if(this._matchBytes(/OpusHead/,t.subarray(0,8)))this._codec="opus",this._parser=new fe;else if(this._matchBytes(/\x01vorbis/,t.subarray(0,7)))throw new Error("Vorbis is currently not supported by isobmff-audio")}},{key:"parseFrames",value:function(e){var t=this,a=this.fixedLengthFrame(e);return!this._codec&&a.frames.length&&this.setCodec(a.frames[0]),{frames:a.frames.flatMap((function(e){return t._parser.parseFrames(e).frames})),remainingData:a.remainingData}}},{key:"codec",get:function(){return this._codec||"flac,opus"}}]),a}(B),ge=a(25),ye=a(8),be=function(){function e(t,a,n){Object(m.a)(this,e),this._name=t,this._contents=a,this._objects=n}return Object(f.a)(e,[{key:"insertBytes",value:function(e,t){t+=this.LENGTH_SIZE,this._contents=this._contents.slice(0,t).concat(e).concat(this._contents.slice(t))}},{key:"appendBytes",value:function(e){this._contents=this._contents.concat(e)}},{key:"addObject",value:function(e){this._objects.push(e)}},{key:"contents",get:function(){return this._contents.concat(this._objects.reduce((function(e,t){return e.concat(t.contents)}),[]))}},{key:"length",get:function(){return this._objects.reduce((function(e,t){return e+t.length}),this.LENGTH_SIZE+this._contents.length)}}],[{key:"getUint32",value:function(e){var t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e),t}},{key:"getUint16",value:function(e){var t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e),t}},{key:"getInt16",value:function(e){var t=new Uint8Array(2);return new DataView(t.buffer).setInt16(0,e),t}}]),e}(),ve=function(e){Object(x.a)(a,e);var t=Object(S.a)(a);function a(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.contents,s=void 0===i?[]:i,c=r.boxes,o=void 0===c?[]:c;return Object(m.a)(this,a),(n=t.call(this,e,a.stringToByteArray(e).concat(s),o)).LENGTH_SIZE=4,n}return Object(f.a)(a,[{key:"addBox",value:function(e){if(e.constructor!==a)throw console.error("Only an object of type Box can be appended"),new Error("Not a box");this.addObject(e)}},{key:"contents",get:function(){var e=Object(ge.a)(Object(ye.a)(a.prototype),"contents",this);return Object(T.a)(be.getUint32(this.LENGTH_SIZE+e.length)).concat(e)}}],[{key:"stringToByteArray",value:function(e){return Object(T.a)(e).map((function(e){return e.charCodeAt(0)}))}}]),a}(be),_e=function(e){Object(x.a)(a,e);var t=Object(S.a)(a);function a(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.contents,s=void 0===i?[]:i,c=r.tags,o=void 0===c?[]:c;return Object(m.a)(this,a),(n=t.call(this,e,s,o)).LENGTH_SIZE=1,n}return Object(f.a)(a,[{key:"addTag",value:function(e){this.addObject(e)}},{key:"contents",get:function(){var e=Object(ge.a)(Object(ye.a)(a.prototype),"contents",this);return[this._name].concat(Object(T.a)(a.getLength(e.length))).concat(e)}}],[{key:"getLength",value:function(e){var t=be.getUint32(e);return t.every((function(e,t,a){return 0===e&&(a[t]=128,!0)})),t}}]),a}(be),ke=function(){function e(t){Object(m.a)(this,e),this._mimeType=t}return Object(f.a)(e,[{key:"getCodecBox",value:function(e){switch(this._mimeType){case'audio/mp4;codecs="mp3"':return this.getMp4a(e,107);case'audio/mp4;codecs="mp4a.40.2"':return this.getMp4a(e,64);case'audio/mp4;codecs="opus"':return this.getOpus(e);case'audio/mp4;codecs="flac"':return this.getFlaC(e)}}},{key:"getOpus",value:function(e){return new ve("Opus",{contents:[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channels,0,e.sampleSize,0,0,0,0].concat(Object(T.a)(ve.getUint16(e.sampleRate)),[0,0]),boxes:[new ve("dOps",{contents:[0,e.channels].concat(Object(T.a)(ve.getUint16(e.preSkip)),Object(T.a)(ve.getUint32(e.inputSampleRate)),Object(T.a)(ve.getInt16(e.outputGain)),[e.channelMappingFamily],Object(T.a)(0!==e.channelMappingFamily?[e.streamCount,e.coupledStreamCount].concat(Object(T.a)(e.channelMappingTable)):[]))})]})}},{key:"getFlaC",value:function(e){return new ve("fLaC",{contents:[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channels,0,e.sampleSize,0,0,0,0].concat(Object(T.a)(ve.getUint16(e.sampleRate)),[0,0]),boxes:[new ve("dfLa",{contents:[0,0,0,0,128,0,0,34].concat(Object(T.a)(ve.getUint16(e.blockSize)),Object(T.a)(ve.getUint16(e.blockSize)),[0,0,0,0,0,0],Object(T.a)(ve.getUint32(e.sampleRate<<12|e.channels<<8|e.sampleSize-1<<4)),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])})]})}},{key:"getMp4a",value:function(e,t){var a=new _e(4,{contents:[t,21,0,0,0,0,0,0,0,0,0,0,0]});return 64===t&&a.addTag(new _e(5,{contents:Object(T.a)(e.audioSpecificConfig)})),new ve("mp4a",{contents:[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channels,0,16,0,0,0,0].concat(Object(T.a)(ve.getUint16(e.sampleRate)),[0,0]),boxes:[new ve("esds",{contents:[0,0,0,0],boxes:[new _e(3,{contents:[0,1,0],tags:[a,new _e(6,{contents:[2]})]})]})]})}},{key:"getMovieBox",value:function(t){var a=ve.getUint32(t.sampleRate),n=[new ve("ftyp",{contents:[].concat(Object(T.a)(ve.stringToByteArray("iso5")),[0,0,2,0],Object(T.a)(ve.stringToByteArray("iso6mp41")))}),new ve("moov",{boxes:[new ve("mvhd",{contents:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2]}),new ve("trak",{boxes:[new ve("tkhd",{contents:[0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0]}),new ve("mdia",{boxes:[new ve("mdhd",{contents:[0,0,0,0,0,0,0,0,0,0,0,0].concat(Object(T.a)(a),[0,0,0,0,85,196,0,0])}),new ve("hdlr",{contents:[0,0,0,0].concat(Object(T.a)(ve.stringToByteArray("mhlr")),Object(T.a)(ve.stringToByteArray("soun")),[0,0,0,0,0,0,0,0,0,0,0,0,0])}),new ve("minf",{boxes:[new ve("stbl",{boxes:[new ve("stsd",{contents:[0,0,0,0,0,0,0,1],boxes:[this.getCodecBox(t)]}),new ve("stts",{contents:[0,0,0,0,0,0,0,0]}),new ve("stsc",{contents:[0,0,0,0,0,0,0,0]}),new ve("stsz",{contents:[0,0,0,0,0,0,0,0,0,0,0,0]}),new ve("stco",{contents:[0,0,0,0,0,0,0,0]})]})]})]})]}),new ve("mvex",{boxes:[new ve("trex",{contents:[0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]})]})]})];return e.getBoxContents(n)}},{key:"wrapFrames",value:function(t){var a=new ve("trun",{contents:[0,0,2,1].concat(Object(T.a)(ve.getUint32(t.length)),Object(T.a)(t.flatMap((function(e){var t=e.data;return Object(T.a)(ve.getUint32(t.length))}))))}),n=[new ve("moof",{boxes:[new ve("mfhd",{contents:[0,0,0,0,0,0,0,0]}),new ve("traf",{boxes:[new ve("tfhd",{contents:[0,2,0,8,0,0,0,1].concat(Object(T.a)(ve.getUint32(t[0].header.sampleLength)))}),new ve("tfdt",{contents:[0,0,0,0,0,0,0,0]}),a]})]})];a.insertBytes(Object(T.a)(ve.getUint32(n[0].length+12)),8);var r=e.getBoxContents(n),i=e.getMediaDataBox(t),s=new Uint8Array(r.length+i.length);return s.set(r),s.set(i,r.length),s}}],[{key:"getBoxContents",value:function(e){return Uint8Array.from(e.reduce((function(e,t){return e.concat(t.contents)}),[]))}},{key:"getMediaDataBox",value:function(e){var t=8,a=e.reduce((function(e,t){return e+t.data.length}),0)+t,n=new Uint8Array(a);n.set([].concat(Object(T.a)(ve.getUint32(a)),Object(T.a)(ve.stringToByteArray("mdat"))));var r,i=Object(te.a)(e);try{for(i.s();!(r=i.n()).done;){var s=r.value.data;n.set(s,t),t+=s.length}}catch(c){i.e(c)}finally{i.f()}return n}}]),e}(),we=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(m.a)(this,e),this.MIN_FRAMES=a.minFramesPerFragment||4,this.MIN_FRAMES_LENGTH=a.minBytesPerFragment||1022,t.match(/aac/)?this._codecParser=new Z:t.match(/mpeg/)?this._codecParser=new H:t.match(/ogg/)&&(this._codecParser=new pe),this._frames=[],this._codecData=new Uint8Array(0),this._generator=this._generator(),this._generator.next()}return Object(f.a)(e,[{key:"iterator",value:d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this._generator.next(t);case 1:if(!a.value){e.next=7;break}return e.next=4,a.value;case 4:a=this._generator.next(),e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"_generator",value:d.a.mark((function t(){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=5;break}return t.delegateYield(this._sendReceiveData(),"t0",2);case 2:a=this._parseFrames(),t.next=0;break;case 5:this._ISOBMFFBuilder=new ke(this.mimeType),n=e.appendBuffers(this._ISOBMFFBuilder.getMovieBox(a[0].header),this._ISOBMFFBuilder.wrapFrames(a));case 7:return t.delegateYield(this._sendReceiveData(n),"t1",9);case 9:a=this._parseFrames(),n=a?this._ISOBMFFBuilder.wrapFrames(a):null,t.next=7;break;case 13:case"end":return t.stop()}}),t,this)}))},{key:"_sendReceiveData",value:d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a;case 2:n=t.sent;case 3:if(n){t.next=9;break}return void(t.next=6);case 6:n=t.sent,t.next=3;break;case 9:this._codecData=e.appendBuffers(this._codecData,n);case 10:case"end":return t.stop()}}),t,this)}))},{key:"_parseFrames",value:function(){var e=this._codecParser.parseFrames(this._codecData),t=e.frames,a=e.remainingData;if(this._frames=this._frames.concat(t),this._codecData=this._codecData.subarray(a),this._frames.length>=this.MIN_FRAMES&&this._frames.reduce((function(e,t){return e+t.data.length}),0)>=this.MIN_FRAMES_LENGTH){var n=this._frames;return this._frames=[],n}}},{key:"mimeType",get:function(){return'audio/mp4;codecs="'.concat(this._codecParser.codec,'"')}}],[{key:"appendBuffers",value:function(e,t){var a=new Uint8Array(e.length+t.length);return a.set(e),a.set(t,e.length),a}}]),e}(),xe=function(){function e(t){var a=t.onMetadataUpdate,n=t.audioElement;Object(m.a)(this,e),this._icecastMetadataQueue=new y.a({onMetadataUpdate:function(e){return a(e)}}),this._audioElement=n,this._onMetadataUpdate=a}return Object(f.a)(e,[{key:"_createMediaSource",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._mediaSource=new MediaSource,this._audioElement.src=URL.createObjectURL(this._mediaSource),e.abrupt("return",new Promise((function(e){a._mediaSource.addEventListener("sourceopen",(function(){a._sourceBuffer=a._mediaSource.addSourceBuffer(t),a._sourceBuffer.mode="sequence",e()}),{once:!0})})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_destroyMediaSource",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._mediaSource=null,e.t0=this._playPromise,!e.t0){e.next=5;break}return e.next=5,this._playPromise.then((function(){return t._audioElement.removeAttribute("src")})).then((function(){return t._audioElement.load()})).catch((function(){}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_waitForSourceBuffer",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t._sourceBuffer.addEventListener("updateend",e,{once:!0})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_appendSourceBuffer",value:function(){var e=Object(h.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._mediaSource){e.next=3;break}return e.next=3,this._createMediaSource(a);case 3:return this._sourceBuffer.appendBuffer(t),e.next=6,this._waitForSourceBuffer();case 6:if(this._playing&&this._sourceBuffer.buffered.length&&this._sourceBuffer.buffered.end(0)>.5&&(this._playPromise=this._audioElement.play()),!(this._audioElement.currentTime>2)){e.next=11;break}return this._sourceBuffer.remove(0,this._audioElement.currentTime-2),e.next=11,this._waitForSourceBuffer();case 11:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"fetchStream",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._controller=new AbortController,a=t.metadataTypes.includes("icy"),e.abrupt("return",fetch(t.endpoint,{method:"GET",headers:a?{"Icy-MetaData":"1"}:{},signal:this._controller.signal}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMediaSource",value:function(e){var t=this,a=e.headers.get("content-type");if(this._fMP4Wrapper=new we(a),MediaSource.isTypeSupported(a))this._onStream=function(e){var n=e.stream;return t._appendSourceBuffer(n,a)};else{if(!MediaSource.isTypeSupported(this._fMP4Wrapper.mimeType))throw new Error("Your browser does not support MediaSource ".concat(a,". Try using Google Chrome."));this._onStream=function(){var e=Object(h.a)(d.a.mark((function e(a){var n,r,i,s,c,o,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.stream,r=!0,i=!1,e.prev=3,c=Object(p.a)(t._fMP4Wrapper.iterator(n));case 5:return e.next=7,c.next();case 7:return o=e.sent,r=o.done,e.next=11,o.value;case 11:if(u=e.sent,r){e.next=19;break}return l=u,e.next=16,t._appendSourceBuffer(l,t._fMP4Wrapper.mimeType);case 16:r=!0,e.next=5;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),i=!0,s=e.t0;case 25:if(e.prev=25,e.prev=26,r||null==c.return){e.next=30;break}return e.next=30,c.return();case 30:if(e.prev=30,!i){e.next=33;break}throw s;case 33:return e.finish(30);case 34:return e.finish(25);case 35:case"end":return e.stop()}}),e,null,[[3,21,25,35],[26,,30,34]])})));return function(t){return e.apply(this,arguments)}}()}}},{key:"play",value:function(e){var t=this;this._playing=!0,this.fetchStream(e).then(function(){var a=Object(h.a)(d.a.mark((function a(n){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.getMediaSource(n),t._isInitialMetadata=!0,a.next=4,new j(n,{icyDetectionTimeout:5e3,metadataTypes:e.metadataTypes,onStream:t._onStream,onMetadata:function(e){t._isInitialMetadata?t._onMetadataUpdate(e.metadata):t._icecastMetadataQueue.addMetadata(e,t._sourceBuffer.timestampOffset-t._audioElement.currentTime),t._isInitialMetadata=!1}}).startReading();case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch(function(){var e=Object(h.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._destroyMediaSource();case 2:t._icecastMetadataQueue.purgeMetadataQueue(),"AbortError"!==a.name&&t._onMetadataUpdate("Error Connecting: ".concat(a.message));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"stop",value:function(){this._playing=!1,this._controller.abort()}}]),e}();function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Me(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Oe=n.createElement("path",{fill:"#808080",d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"});function je(e,t){var a=e.title,r=e.titleId,i=Me(e,["title","titleId"]);return n.createElement("svg",Se({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",ref:t,"aria-labelledby":r},i),a?n.createElement("title",{id:r},a):null,Oe)}var Be=n.forwardRef(je);a.p;function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ce(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Re=n.createElement("path",{fill:"#808080",d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"});function Pe(e,t){var a=e.title,r=e.titleId,i=Ce(e,["title","titleId"]);return n.createElement("svg",Te({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",ref:t,"aria-labelledby":r},i),a?n.createElement("title",{id:r},a):null,Re)}var ze=n.forwardRef(Pe),Le=(a.p,a(12)),Ee=a.n(Le),Ie="Icecast Metadata JS Demo",Ae=function(e){var t=e.station,a=Object(n.useState)(new Audio),i=Object(c.a)(a,1)[0],s=Object(n.useState)([0,0]),o=Object(c.a)(s,2),l=Object(c.a)(o[0],2),d=l[0],h=l[1],m=o[1],f=Object(n.useState)(0),p=Object(c.a)(f,2),g=p[0],y=p[1],b=Object(n.useState)("Select a station"),v=Object(c.a)(b,2),_=v[0],k=function(e,t,a){var r=Object(n.useState)(!1),i=Object(c.a)(r,2),s=i[0],o=i[1],u=Object(n.useState)(new xe({onMetadataUpdate:function(e){console.log(e),t(e)},audioElement:a})),l=Object(c.a)(u,1)[0],d=Object(n.useCallback)((function(){t("Loading..."),o(!0),l.play(e)}),[t,l,e]),h=Object(n.useCallback)((function(){t("Select a station or press play"),o(!1),l.stop()}),[t,l]);return Object(n.useEffect)((function(){return a.addEventListener("pause",h),function(){return a.removeEventListener("pause",h)}}),[]),Object(n.useEffect)((function(){e&&(s?(h(),d()):d())}),[e]),[s,function(){return s?h():d()}]}(t,v[1],i),w=Object(c.a)(k,2),x=w[0],S=w[1];return Object(n.useEffect)((function(){var e=_.StreamTitle||_.TITLE;document.title=e?"".concat(e," | ").concat(Ie):Ie}),[_]),Object(n.useLayoutEffect)((function(){var e=function(){var e=document.getElementById("player");y(Math.floor(e.clientWidth/32)),m([e.clientHeight+6,e.clientWidth])};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),r.a.createElement("div",{id:"player",className:Ee.a.player},r.a.createElement("div",{className:Ee.a.spectrum},r.a.createElement(u.a,{height:d,width:h,audioEle:i,capColor:"red",capHeight:1,meterWidth:2,meterCount:32*(g+1),meterColor:[{stop:0,color:"#f00"},{stop:.3,color:"#0CD7FD"},{stop:1,color:"red"}],gap:1})),r.a.createElement("button",{disabled:!t,className:Ee.a.button,onClick:S},x?r.a.createElement(ze,null):r.a.createElement(Be,null)),r.a.createElement("div",null,r.a.createElement("p",{className:Ee.a.metadata},"object"===typeof _?_.StreamTitle||(_.ARTIST?"".concat(_.ARTIST," - ").concat(_.TITLE):_.TITLE)||_.VENDOR_STRING:_),(null===t||void 0===t?void 0:t.link)&&r.a.createElement("div",{className:Ee.a.visitStation},"Visit this station at ",r.a.createElement("a",{className:Ee.a.link,href:t.link,target:"_blank",rel:"noopener noreferrer"},t.name))))},De=a(13),Fe=a.n(De),Ne=function(e){var t=e.id,a=e.station,n=e.changeStation;return r.a.createElement("div",{className:Fe.a.station},r.a.createElement("input",{type:"radio",className:Fe.a.stationRadio,id:t,name:"stations",onChange:function(){return n(a)}}),r.a.createElement("label",{className:Fe.a.stationLabel,htmlFor:t},r.a.createElement("div",{className:Fe.a.stationName},a.name),r.a.createElement("div",{className:Fe.a.codecInfo},a.codec," | ",a.metadataTypes.join(", ")),r.a.createElement("div",{className:Fe.a.stationDescription},a.description)))},Ue=function(e){return e.stations.map((function(t,a){return r.a.createElement(Ne,{key:a,station:t,id:a,changeStation:e.changeStation})}))},He=a(50),Ve=a(33),Ye=a.n(Ve),Ge=a(18),We=a.n(Ge),Je=function(){return r.a.createElement("div",{className:We.a.about},r.a.createElement("a",{className:We.a.link,href:"https://github.com/eshaz/icecast-metadata-js"},r.a.createElement("div",null,"icecast-metadata-js"),r.a.createElement("div",{className:We.a.subLink},"https://github.com/eshaz/icecast-metadata-js")),r.a.createElement("div",{className:We.a.description},"Javascript library that reads, parses, and queues realtime metadata from an Icecast stream."),r.a.createElement("div",{className:We.a.disclaimer},"Stations are presented here for demonstration purposes only."))};var Ke=function(){var e=Object(n.useState)(),t=Object(c.a)(e,2),a=t[0],i=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:Ye.a.header},r.a.createElement(Je,null)),r.a.createElement(Ue,{stations:He,changeStation:i}),r.a.createElement("footer",{className:Ye.a.footer},r.a.createElement(Ae,{station:a})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[86,1,2]]]);
//# sourceMappingURL=main.86d49b54.chunk.js.map